"use strict";(self.webpackChunkalnitak=self.webpackChunkalnitak||[]).push([[165],{5165:(W,l,u)=>{u.r(l),u.d(l,{LayoutSchematicPageComponent:()=>T});var L=u(177),e=u(4438);function h(o,a){const n=!a?.manualCleanup;n&&!a?.injector&&(0,e.Af3)(h);const i=n?a?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null;let t;t=(0,e.vPA)(a?.requireSync?{kind:0}:{kind:1,value:a?.initialValue});const s=o.subscribe({next:r=>t.set({kind:1,value:r}),error:r=>{if(a?.rejectErrors)throw r;t.set({kind:2,error:r})}});return i?.onDestroy(s.unsubscribe.bind(s)),(0,e.EWP)(()=>{const r=t();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new e.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var y=u(2102),p=u(2798),m=u(8018),$=u(1584),E=u(4165),c=u(1380),j=u(6600);const g=()=>({x:175,y:175}),b=()=>({c:0,e:1,s:2,w:3,n:4}),f=o=>[o],v=()=>[],k=(o,a)=>({characterKeyPositionCode:0,layer:o,shiftKey:!1,altGraphKey:!1,positionCodes:a,score:0});function C(o,a){if(1&o&&(e.j41(0,"mat-option",3),e.EFF(1),e.k0s()),2&o){const n=a.$implicit;e.Y8G("value",a.$index),e.R7$(),e.JRh(n.name)}}function I(o,a){if(1&o&&(e.j41(0,"mat-option",3),e.EFF(1),e.k0s()),2&o){const n=a.$implicit;e.Y8G("value",n.value),e.R7$(),e.JRh(n.name)}}function P(o,a){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const n=a.$implicit,i=a.$index,t=e.XpG();e.AVh("bg-alnitak-500",i===t.keyIndex()&&t.scancodeOn()),e.R7$(),e.SpI(" ",n," ")}}function x(o,a){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const n=a.$implicit,i=a.$index,t=e.XpG();e.AVh("bg-alnitak-500",i===t.keyIndex()&&t.osOn()),e.R7$(),e.SpI(" ",n," ")}}function K(o,a){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const n=a.$implicit,i=a.$index,t=e.XpG();e.AVh("bg-alnitak-500",i===t.keyIndex()&&t.osOn()),e.R7$(),e.SpI(" ",n," ")}}const S=[{name:"QWERTY",keys:["1","q","a","z"]},{name:"QWERTZ",keys:["1","q","a","y"]},{name:"JCUKEN",keys:["1","\u0439","\u0444","\u044f"]},{name:"Standard Bopomofo",keys:["\u3105","\u3106","\u3107","\u3108"],isBopomofo:!0},{name:"\u5927\u5343\u6ce8\u97f3",keys:["\u3105","\u3106","\u3107","\u3108"],isBopomofo:!0}],D={Keyboard:"Keyboard",Scancode:"Scancode",OSLayout:"OS Layout",DeviceLayout:"Device Layout",Output:"Output"},w={Keyboard:"\u9375\u76e4",Scancode:"\u6383\u63cf\u78bc",OSLayout:"\u4f5c\u696d\u7cfb\u7d71\u4f48\u5c40",DeviceLayout:"\u88dd\u7f6e\u4f48\u5c40",Output:"\u8f38\u51fa"};let T=(()=>{class o{constructor(){this.Layer=c.Wd,this.scancodes=["1E","14","04","1D"],this.keyLabelMap={1:[{type:c.g0.String,c:"1",title:"Character: 1",layer:null,shiftKey:null,altGraphKey:null}],2:[{type:c.g0.String,c:"q",title:"Character: q",layer:null,shiftKey:null,altGraphKey:null}],3:[{type:c.g0.String,c:"a",title:"Character: a",layer:null,shiftKey:null,altGraphKey:null}],4:[{type:c.g0.String,c:"z",title:"Character: z",layer:null,shiftKey:null,altGraphKey:null}]},this.scancodeLabelMap={1:[{type:c.g0.String,c:"1E",title:"Scancode: 1E",layer:null,shiftKey:null,altGraphKey:null}],2:[{type:c.g0.String,c:"14",title:"Scancode: 14",layer:null,shiftKey:null,altGraphKey:null}],3:[{type:c.g0.String,c:"04",title:"Scancode: 04",layer:null,shiftKey:null,altGraphKey:null}],4:[{type:c.g0.String,c:"1D",title:"Scancode: 1D",layer:null,shiftKey:null,altGraphKey:null}]},this.languages=[{name:"English",value:"en"},{name:"\u7e41\u9ad4\u4e2d\u6587",value:"zh_Hant"}],this.currentLanguage=(0,e.vPA)("en"),this.text=(0,e.EWP)(()=>"zh_Hant"===this.currentLanguage()?w:D),this.osLayouts=S,this.osLayoutIndex=(0,e.vPA)(0),this.osLayout=(0,e.EWP)(()=>S[this.osLayoutIndex()]),this.osLayoutName=(0,e.EWP)(()=>this.osLayout().name),this.osLayoutKeys=(0,e.EWP)(()=>this.osLayout().keys),this.timer=h((0,$.O)(0,750)),this.keyIndex=(0,e.EWP)(()=>Math.floor(this.timer()/4)%4),this.scancodeOn=(0,e.EWP)(()=>this.timer()%4>=1),this.scancodeOutputOn=(0,e.EWP)(()=>this.timer()%4>=1),this.osOn=(0,e.EWP)(()=>this.timer()%4>=2),this.osOutputOn=(0,e.EWP)(()=>this.timer()%4>=2),this.outputPrintOn=(0,e.EWP)(()=>this.timer()%4>=3),this.currentScancode=(0,e.EWP)(()=>this.scancodes[this.keyIndex()]),this.currentKey=(0,e.EWP)(()=>this.osLayoutKeys()[this.keyIndex()]),this.currentOutput=(0,e.EWP)(()=>{const{keys:n,isBopomofo:i}=this.osLayout(),t=this.outputPrintOn(),s=this.keyIndex();if(i){const O=t?s:s-1;return O<0?"":n[O]}return n.slice(0,t?s+1:s).join("")}),this.translate=(0,e.WQX)(m.c$)}onOsLayoutIndexChange(n){this.osLayoutIndex.set(n)}onLanguageChange(n){this.currentLanguage.set(n)}useLanguage(n){this.translate.use(n)}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-layout-schematic-page"]],standalone:!0,features:[e.aNF],decls:71,vars:73,consts:[[1,"title"],[3,"click"],[3,"valueChange","value"],[3,"value"],[1,"flex","gap-3","p-2"],[1,"flex","w-[130px]","flex-col","items-center","gap-1","rounded-sm","border","border-solid","border-gray-200","p-2","text-center"],[1,"size-8","content-center","rounded-md","border","border-solid","border-white","text-center",3,"bg-alnitak-500"],[1,"flex","h-[210px]","w-12","flex-col","items-center","justify-center","gap-1"],[1,"arrow"],[1,"opacity-0"],[1,"flex","flex-col","items-center","gap-1","rounded-sm","border","border-solid","border-gray-200","p-2","text-center"],[1,"size-8","content-center","rounded-md","border","border-solid","border-white","text-center","transition-colors",3,"bg-alnitak-500"],[1,"relative","flex","flex-col","items-center","gap-1","rounded-sm","border","border-solid","border-gray-200","p-2"],[1,"absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2","text-alnitak-200","underline-offset-2"],["viewBox","0 0 350 350","preserveAspectRatio","xMidYMid meet",1,"size-20"],["appSwitch","",3,"center","rotationDirection","positionCodeMap","highlightKeyCombination","keyLabelMap","highlightOpacity","strokeWidth","fontSize"],[1,"flex","flex-col","items-center","gap-1","self-start","rounded-sm","border","border-solid","border-gray-200","p-2","text-center"],[1,"relative","flex","h-[210px]","flex-col","items-center","gap-1","rounded-sm","border","border-solid","border-gray-200","p-2"],[1,"size-8","content-center","rounded-md","border","border-solid","border-white","text-center"],[1,"size-8","content-center","rounded-md","border","border-solid","border-white","text-center","transition-colors"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span"),e.EFF(5,"Switch languages at runtime: "),e.k0s(),e.j41(6,"button",1),e.bIt("click",function(){return t.useLanguage("en")}),e.EFF(7,"en"),e.k0s(),e.j41(8,"button",1),e.bIt("click",function(){return t.useLanguage("zh-TW")}),e.EFF(9,"zh-TW"),e.k0s()(),e.j41(10,"mat-form-field")(11,"mat-select",2),e.bIt("valueChange",function(r){return t.onOsLayoutIndexChange(r)}),e.Z7z(12,C,2,2,"mat-option",3,e.Vm6),e.k0s()(),e.j41(14,"mat-form-field")(15,"mat-select",2),e.bIt("valueChange",function(r){return t.onLanguageChange(r)}),e.Z7z(16,I,2,2,"mat-option",3,e.Vm6),e.k0s()(),e.j41(18,"div",4)(19,"div",5),e.EFF(20),e.nrm(21,"br"),e.EFF(22),e.Z7z(23,P,2,3,"div",6,e.Vm6),e.k0s(),e.j41(25,"div",7),e.nrm(26,"div",8),e.j41(27,"span",9),e.EFF(28),e.k0s()(),e.j41(29,"div",10),e.EFF(30),e.nrm(31,"br"),e.EFF(32),e.Z7z(33,x,2,3,"div",11,e.Vm6),e.k0s(),e.j41(35,"div",7),e.nrm(36,"div",8),e.j41(37,"span",9),e.EFF(38),e.k0s()(),e.j41(39,"div",12),e.EFF(40),e.j41(41,"span",13),e.EFF(42),e.k0s()()(),e.j41(43,"div",4)(44,"div",5),e.EFF(45," CC1 / M4G "),e.nrm(46,"br"),e.EFF(47),e.qSk(),e.j41(48,"svg",14),e.nrm(49,"g",15),e.k0s(),e.EFF(50),e.j41(51,"svg",14),e.nrm(52,"g",15),e.k0s()(),e.joV(),e.j41(53,"div",7),e.nrm(54,"div",8),e.j41(55,"span",9),e.EFF(56),e.k0s()(),e.j41(57,"div",16),e.EFF(58),e.nrm(59,"br"),e.EFF(60),e.Z7z(61,K,2,3,"div",11,e.Vm6),e.k0s(),e.j41(63,"div",7),e.nrm(64,"div",8),e.j41(65,"span",9),e.EFF(66),e.k0s()(),e.j41(67,"div",17),e.EFF(68),e.j41(69,"span",13),e.EFF(70),e.k0s()()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,55,"t")),e.R7$(9),e.Y8G("value",t.osLayoutIndex()),e.R7$(),e.Dyx(t.osLayouts),e.R7$(3),e.Y8G("value",t.currentLanguage()),e.R7$(),e.Dyx(t.languages),e.R7$(4),e.SpI(" ",t.text().Keyboard," "),e.R7$(2),e.SpI(" (",t.text().Scancode,") "),e.R7$(),e.Dyx(t.scancodes),e.R7$(3),e.AVh("bg-alnitak-200",t.scancodeOutputOn()),e.R7$(),e.AVh("!opacity-100",t.scancodeOutputOn()),e.R7$(),e.JRh(t.currentScancode()),e.R7$(2),e.SpI(" ",t.text().OSLayout," "),e.R7$(2),e.SpI(" ",t.osLayoutName()," "),e.R7$(),e.Dyx(t.osLayoutKeys()),e.R7$(3),e.AVh("bg-alnitak-200",t.osOutputOn()),e.R7$(),e.AVh("!opacity-100",t.osOutputOn()),e.R7$(),e.JRh(t.currentKey()),e.R7$(2),e.SpI(" ",t.text().Output," "),e.R7$(),e.AVh("underline",t.osLayout().isBopomofo),e.R7$(),e.JRh(t.currentOutput()),e.R7$(5),e.SpI(" (",t.text().DeviceLayout,") "),e.R7$(2),e.Y8G("center",e.lJ4(57,g))("rotationDirection","cw")("positionCodeMap",e.lJ4(58,b))("highlightKeyCombination",e.l_i(62,k,t.Layer.Primary,t.scancodeOn()?e.eq3(59,f,t.keyIndex()+1):e.lJ4(61,v)))("keyLabelMap",t.keyLabelMap)("highlightOpacity",1)("strokeWidth",4.375)("fontSize",70),e.R7$(),e.SpI(" (",t.text().Scancode,") "),e.R7$(2),e.Y8G("center",e.lJ4(65,g))("rotationDirection","cw")("positionCodeMap",e.lJ4(66,b))("highlightKeyCombination",e.l_i(70,k,t.Layer.Primary,t.scancodeOn()?e.eq3(67,f,t.keyIndex()+1):e.lJ4(69,v)))("keyLabelMap",t.scancodeLabelMap)("highlightOpacity",1)("strokeWidth",4.375)("fontSize",70),e.R7$(2),e.AVh("bg-alnitak-200",t.scancodeOutputOn()),e.R7$(),e.AVh("!opacity-100",t.scancodeOutputOn()),e.R7$(),e.JRh(t.currentScancode()),e.R7$(2),e.SpI(" ",t.text().OSLayout," "),e.R7$(2),e.SpI(" ",t.osLayoutName()," "),e.R7$(),e.Dyx(t.osLayoutKeys()),e.R7$(3),e.AVh("bg-alnitak-200",t.osOutputOn()),e.R7$(),e.AVh("!opacity-100",t.osOutputOn()),e.R7$(),e.JRh(t.currentKey()),e.R7$(2),e.SpI(" ",t.text().Output," "),e.R7$(),e.AVh("underline",t.osLayout().isBopomofo),e.R7$(),e.JRh(t.currentOutput()))},dependencies:[L.MD,y.RG,y.rl,p.Ve,p.VO,j.wT,E.c,m.D9],styles:[".arrow[_ngcontent-%COMP%]{width:48px;height:31.1px;clip-path:polygon(0 32.3%,67.6% 32.3%,67.6% 0,100% 50%,67.6% 100%,67.6% 67.7%,0 67.7%)}"],changeDetection:0})}return o})()}}]);