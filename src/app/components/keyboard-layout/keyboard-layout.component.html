@if (keyboard(); as keyboard) {
  <svg
    class="overflow-visible"
    width="100%"
    height="100%"
    preserveAspectRatio="xMidYMid meet"
    [attr.viewBox]="'0 0 ' + keyboard.width + ' ' + keyboard.height"
  >
    @for (key of keyboard.keys; track $index) {
      <rect
        class="fill-none stroke-white stroke-[0.1]"
        [attr.x]="key.x"
        [attr.y]="key.y"
        [attr.width]="key.width"
        [attr.height]="key.height"
        rx="1"
      ></rect>
      @if (key.key; as k) {
        <text
          [attr.x]="key.x + key.width / 2"
          [attr.y]="key.y + key.height / 2"
          text-anchor="middle"
          dominant-baseline="central"
          font-size="5px"
          class="fill-gray-100"
        >
          @if (withShift()) {
            @if (withAltGraph()) {
              {{ k.withShiftAltGraph }}
            } @else {
              {{ k.withShift }}
            }
          } @else {
            @if (withAltGraph()) {
              {{ k.withAltGraph }}
            } @else {
              {{ k.unmodified }}
            }
          }
        </text>
      }
    }
  </svg>
}
