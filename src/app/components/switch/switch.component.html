@for (sector of sectors; track sector) {
  <svg:g
    appSwitchSector
    [center]="center()"
    [degree]="sector.degree + r()"
    [direction]="rotationDirection()"
    [positionCode]="positionCodeMap()[sector.direction]"
    [keyLabel]="keyLabelMap()[positionCodeMap()[sector.direction]]"
    [highlightKeyCombination]="highlightKeyCombination()"
  ></svg:g>
}
<svg:circle
  class="fill-alnitak-500"
  [attr.cx]="center().x"
  [attr.cy]="center().y"
  [attr.r]="53.68"
  [attr.opacity]="
    highlightKeyCombination()?.positionCodes?.includes(positionCodeMap().c)
      ? 0.5
      : 0
  "
></svg:circle>
@for (label of keyLabelMap()[positionCodeMap().c]; track label.c) {
  <svg:text
    [attr.x]="center().x"
    [attr.y]="center().y"
    dominant-baseline="central"
    text-anchor="middle"
    font-size="80px"
    fill="currentColor"
    font-weight="lighter"
    class="transition-opacity"
    [attr.opacity]="
      highlightKeyCombination() &&
      ((label.layer === highlightKeyCombination()?.layer &&
        label.shiftKey === highlightKeyCombination()?.shiftKey &&
        label.altGraphKey === highlightKeyCombination()?.altGraphKey) ||
        label.layer === null)
        ? 1
        : 0
    "
  >
    {{ label.c }}
  </svg:text>
}
